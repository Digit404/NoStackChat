<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NoStack</title>
    <script src="https://www.rebitwise.com/dark-mode.js"></script>
    <link rel="shortcut icon" href="https://www.rebitwise.com/res/favicon.png" type="image/png">
    <link rel="stylesheet" href="https://www.rebitwise.com/tools/common.css">
    <link rel="stylesheet" href="https://www.rebitwise.com/default-modern.css">
    <link rel="stylesheet" href="./style.css">
    <script src="https://cdn.jsdelivr.net/npm/markdown-it/dist/markdown-it.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/dompurify/dist/purify.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.11.1/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.11.1/languages/powershell.min.js"></script>
</head>

<body>
    <div class="sidebar"></div>
    <div id=main>
        <div id="title-block">
            <h1 class="title">NoStack</h1>
            <p class="description">A serverless frontend for the OpenAI chat models.</p>
        </div>
        <div id=key-block class="collapsed">
            <button class="icon" id="key-button">key</button>
            <input type="password" id="api-key" placeholder="Enter OpenAI API key" autocomplete="off">
            <button id="verify-button" class="icon">check</button>
        </div>
        <a id="new-chat-button" class="icon" href="./">add_comment</a>
        <button id="model-select">
            <img class="model-icon mini" src="./res/GPT_standard.png"></img>
            <div id="current-model">Select a model</div>
            <span class="icon">keyboard_arrow_down</span>
        </button>
        <div id="model-popup" class="hidden">
            <div id="model-list">
            </div>
        </div>
        <div id="messages-viewport">
            <div id="messages">
            </div>
        </div>
        <div class="controls-container">
            <textarea id="prompt" placeholder="Enter prompt..." autocomplete="off" rows="1"></textarea>
            <div class="toolbar">
                <button id="send" class="icon">send</button>
                <button class="icon hidden" id="add">add</button>
            </div>
        </div>
    </div>
    <div id="popup" class="popup-background hidden">
        <div id="popup-content" class="popup-content info">
            <span id="popup-icon" class="popup-header icon">warning</span>
            <div id="popup-text">
                <strong>Heads up:</strong> As a general rule, you shouldn't paste your API key into a website you don't
                fully trust. This site is <em>fully static</em>—no servers, and only talks to OpenAI.<br>
                <a href="https://github.com/Digit404/NoStackChat" target="_blank" rel="noopener noreferrer"> Source code
                    on GitHub, audit it yourself. </a>
                <hr>
                <ul>
                    <li>This site does <b>not</b> log, store, or access your API key or prompts. Everything stays on
                        your browser.</li>
                    <li>Only official OpenAI servers ever see your key.</li>
                    <li>For maximum safety, use a <b>restricted or temporary API key</b>.</li>
                    <li>Be careful with browser extensions—some can read anything on any website.</li>
                    <li>You can open DevTools and audit the whole source. No secrets here.</li>
                </ul>
            </div>
            <button id="popup-close" class="button pill">OK, got it</button>
        </div>
    </div>
    <script src="./nostack-chat.js" defer></script>
</body>

</html>